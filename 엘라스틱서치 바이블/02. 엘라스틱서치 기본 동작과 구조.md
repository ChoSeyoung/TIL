## 들어가기전


|type|desc|
|---|---|
|문서(document)| 엘라스틱서치가 저장하고 색인을 생성하는 JSON 문서|
|인덱스(index)| 문서를 모아 놓은 단위가 인덱스다. 클라이언트는 이 인덱스 단위로 엘라스틱서치에 검색을 요청하게 된다.|
|샤드(shard)| 인덱스는 그 내용을 여러 샤드로 분리하여 분산 저장한다. 또한 엘라스틱서치는 고가용성을 제공하기 위해 샤드의 내용을 복제해 둔다. 원본 역할을 담당하는 샤드를 주 샤드(primary shard)라고 하고 복제본을 복제본 샤드(replication shard)라고 한다.|
|노드(node)| 엘라스틱서치 프로세스 하나가 노드 하나를 구성한다. 엘라스틱서치 노드 하나는 여러 개의 샤드를 가진다. |
|클러스터(cluster)| 노드 여러 개가 모여 하나의 클러스터를 구성한다.|
|_id| 인덱스 내 문서에 부여되는 고유한 구분자다. 인덱스 이름과 _id의 조합은 엘라스틱서치내에서 고유하다.|

## 문서색인
```
PUT [인덱스 이름]/_doc/[_id]
{
  [문서내용]
}
```
### _id를 지정하여 색인 (id 자동생성)
```
POST [인덱스 이름]/_doc/
{
  [문서내용]
}
```
### 문서 조회
```
GET [인덱스 이름]/_doc/[_id값]
```
### 문서 업데이트
```
POST [인덱스 이름]/_update/[_id값]
{
  "doc": {
    [문서내용]
  }
}
```
### 문서 검색
```
GET [인덱스 이름]/_search
{
  "query": {
    "match": {
      "title": "hello world"
    }
  }
}
```
### 문서 삭제
```
DELETE [인덱스 이름]/_doc/[_id]
```
